<div class="row">
    <div class="col">
        <button class="action-button" type="button" id="generate-button" data-toggle="modal" data-target="#generationModal">
            <span class='glyphicon glyphicon-fire'></span>
            GENERATE
        </button>

        <button class="action-button" id="clear-button" (click)="clearPianoRoll()">
            <span class='glyphicon glyphicon-trash'></span>
            CLEAR
        </button>
    </div>
</div>

<div class="modal fade" id="generationModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Generate Composition</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
               <div class="dropdown show">
                  <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    What would you like to generate?
                  </a>

                  <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </div>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Generate</button>
            </div>
        </div>
    </div>
</div>

<div class="row piano-roll">
    <div class="col-1 piano">
        <div class='piano-keys'>
            <ul class="piano-key-set">
                <li *ngFor="let note of notes"
                class="{{ note.color }} {{ note.note }}" attr.data-octave="{{ note.octave }}"></li>
            </ul>
        </div>
    </div>
    <div class='col note-grid'>
        <ul class='note-rows'>
            <li *ngFor="let note of gridState"
                class="{{ note.color }} {{ note.note }}" attr.data-octave="{{ note.octave }}">
                <label class="grid-state-wrapper"
                    *ngFor="let state of note.timeStates; let index= index;"
                    [style.width]="note.stateWidth"
                    attr.data-active="{{ note.timeStates[index] }}"
                    (click)="previewNoteSound(note.note, note.octave, note.timeStates[index])"
                    [attr.id]="note.id"
                    [attr.data-step]="index"
                    >
                    <hr/>
                    <input class='grid-state' type='checkbox'
                        attr.data-active="{{ state }}"
                        [(ngModel)]="note.timeStates[index]"
                        >
                </label>
            </li>
        </ul>
     </div>
</div>
